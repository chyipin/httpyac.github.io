(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{439:function(t,e,s){"use strict";s.r(e);var a=s(20),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"request"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[t._v("#")]),t._v(" Request")]),t._v(" "),s("p",[t._v("An HTTP request starts with a request line followed by optional header fields, message body, response handler, and previous response references.")]),t._v(" "),s("h2",{attrs:{id:"request-line"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-line"}},[t._v("#")]),t._v(" Request-Line")]),t._v(" "),s("p",[t._v("A "),s("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc7230#section-3.1.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("request line"),s("OutboundLink")],1),t._v(" consists of a request method, target and the HTTP protocol version. If the request method is omitted, ‘GET’ will be used as a default. The HTTP protocol version can be also omitted.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://www.google.de")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n\nGET https://www.google.de\n###\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("https:")]),t._v("//www.google.de")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("The HTTP version is optional. But in this guide I have always added it because of syntax highlighting")])]),t._v(" "),s("p",[t._v("If the Http version is specified, this can be used to control the use of HTTP2")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("# no version = http/1.1\nGET https://www.google.de\n\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://www.google.de")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://www.google.de")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/2.0")])])])])]),s("p",[t._v("Allowed Requests Methods are:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("POST")]),t._v(" "),s("td",[t._v("PUT")]),t._v(" "),s("td",[t._v("DELETE")]),t._v(" "),s("td",[t._v("PATCH")])]),t._v(" "),s("tr",[s("td",[t._v("OPTIONS")]),t._v(" "),s("td",[t._v("CONNECT")]),t._v(" "),s("td",[t._v("TRACE")]),t._v(" "),s("td",[t._v("PROPFIND")]),t._v(" "),s("td",[t._v("PROPPATCH")])]),t._v(" "),s("tr",[s("td",[t._v("COPY")]),t._v(" "),s("td",[t._v("MOVE")]),t._v(" "),s("td",[t._v("LOCK")]),t._v(" "),s("td",[t._v("UNLOCK")]),t._v(" "),s("td",[t._v("CHECKOUT")])]),t._v(" "),s("tr",[s("td",[t._v("REPORT")]),t._v(" "),s("td",[t._v("MERGE")]),t._v(" "),s("td",[t._v("MKACTIVITY")]),t._v(" "),s("td",[t._v("MKWORKSPACE")]),t._v(" "),s("td",[t._v("VERSION-CONTROL")])])])]),t._v(" "),s("p",[t._v("A request path can be added in the next line")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("GET https://httpbin.org\n  /get")])])]),s("h2",{attrs:{id:"query-strings"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#query-strings"}},[t._v("#")]),t._v(" Query Strings")]),t._v(" "),s("p",[t._v("A "),s("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc3986#section-3.4",target:"_blank",rel:"noopener noreferrer"}},[t._v("request query"),s("OutboundLink")],1),t._v(" may contain any unicode characters except line separators and the ‘#’ symbol.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything?q=httpyac")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])])])])]),s("p",[t._v("It is also possible to split the query strings to different subsequent lines.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("GET https://httpbin.org/anything\n  ?q=httpyac\n  &ie=UTF-8")])])]),s("h2",{attrs:{id:"headers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#headers"}},[t._v("#")]),t._v(" Headers")]),t._v(" "),s("p",[t._v("Each "),s("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc7230#section-3.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("header field"),s("OutboundLink")],1),t._v(" consists of a case-insensitive field name followed by a colon (‘:’), optional leading whitespace, the field value, and optional trailing whitespace.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" text/html\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization:")]),t._v(" Bearer token")])])]),s("p",[t._v("If you use the same headers several times, it is possible to store them in a variable and reuse them.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("{{+\n  const token = \"test\"\n  exports.defaultHeaders = {\n    'Content-Type': 'text/html',\n    'Authorization': `Bearer ${token}`\n  };\n}}\n###\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n...defaultHeaders\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n...defaultHeaders")])])]),s("h2",{attrs:{id:"cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" Cookie")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/tough-cookie",target:"_blank",rel:"noopener noreferrer"}},[t._v("CookieJar"),s("OutboundLink")],1),t._v(" support is enabled by default. All received "),s("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc6265#section-5.4",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cookies"),s("OutboundLink")],1),t._v(", previously sent by the server with the Set-Cookie header are automatically sent back. It is possible to send own cookies to the server using cookie header.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/cookies")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Cookie:")]),t._v(" bar=foo")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("Cookies are only stored In-Memory and are cleared in VS Code with command "),s("code",[t._v("httpyac.reset")])])]),t._v(" "),s("p",[t._v("It is possible to disable cookie support per request.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("# @no-cookie-jar\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://www.google.de")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])])])])]),s("h2",{attrs:{id:"request-body"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-body"}},[t._v("#")]),t._v(" Request Body")]),t._v(" "),s("p",[t._v("The "),s("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc7230#section-3.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("request body"),s("OutboundLink")],1),t._v(" can be represented as a simple message or a mixed type message (multipart-form-data).")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/x-www-form-urlencoded\n\ngrant_type=client_credentials")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("The first content that is not recognized as a header or query string is interpreted as a request body. After that, no more header or query string can be specified.")])]),t._v(" "),s("h2",{attrs:{id:"imported-request-body"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#imported-request-body"}},[t._v("#")]),t._v(" Imported Request Body")]),t._v(" "),s("p",[t._v("A body can also be imported by using "),s("code",[t._v("< ...")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")])]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n< ./requestBodyImport.json")])])])]),s("p",[t._v("If you want to replace variables in the file please import it with "),s("code",[t._v("<@")])]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")])]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('@foo="bar"\n'),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n<@ ./requestBodyImport.json")])])])]),s("p",[t._v("All files are read with UTF-8 encoding. If a different encoding is desired, provide it. All "),s("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_buffers_and_character_encodings",target:"_blank",rel:"noopener noreferrer"}},[t._v("encodings"),s("OutboundLink")],1),t._v(" supported by NodeJS are available.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")])]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('@foo="bar"\n'),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n<@latin1 ./requestBodyImport.json")])])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("If the request body is configured in-place, whitespaces around it will be trimmed. To send leading or trailing whitespaces as part of the request body, send it from a separate file.")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("You can use Variable Substitution in file import.")])]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")])]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("@assetsDir=./\n###\n\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/anything")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n< "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("assetsDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("requestBodyImport.json")])])])]),s("h2",{attrs:{id:"multipart-form-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#multipart-form-data"}},[t._v("#")]),t._v(" multipart/form-data")]),t._v(" "),s("p",[t._v("It is possible to mix inline text with file imports")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" multipart/form-data; boundary=WebKitFormBoundary\n\n--WebKitFormBoundary\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition:")]),t._v(' form-data; name="text"\n\ninvoice_text\n--WebKitFormBoundary\n'),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition:")]),t._v(' form-data; name="title"\n\ninvoice_title\n--WebKitFormBoundary\n'),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition:")]),t._v(' form-data; name="invoice"; filename="invoice.pdf"\n'),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/pdf\n\n< ./dummy.pdf\n--WebKitFormBoundary--")])])]),s("h2",{attrs:{id:"graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#graphql"}},[t._v("#")]),t._v(" GraphQL")]),t._v(" "),s("p",[t._v("GraphQL queries are supported. Parsing Logic will automatically generate a GraphQL request body from the query and the optional variables.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://api.spacex.land/graphql")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n\nquery launchesQuery($limit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Int!)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  launchesPast(limit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $limit) "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mission_name\n    launch_date_local\n    launch_site "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      site_name_long\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    rocket "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      rocket_name\n      rocket_type\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    ships "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name\n      home_port\n      image\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"limit"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),s("p",[t._v("GraphQL fragments are also supported and are included in the body by name.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("fragment RocketParts on LaunchRocket {\n  rocket_name\n  first_stage {\n    cores {\n      flight\n      core {\n        reuse_count\n        status\n      }\n    }\n  }\n}\n\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://api.spacex.land/graphql")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n\nquery launchesQuery($limit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Int!)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  launchesPast(limit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $limit) "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mission_name\n    launch_date_local\n    launch_site "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      site_name_long\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    rocket "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      ...RocketParts\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"limit"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),s("p",[t._v("To import GraphQL File you need to use special GraphQL Import Directive.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://api.spacex.land/graphql")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n\ngql launchesQuery < ./graphql.gql\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"limit"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("You can use Variable Substitution in file import.")])]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("@assetsDir=./\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://api.spacex.land/graphql")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),s("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n\ngql launchesQuery < "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("assetsDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("graphql.gql\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"limit"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),s("h2",{attrs:{id:"request-separators"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-separators"}},[t._v("#")]),t._v(" Request Separators")]),t._v(" "),s("p",[t._v("Multiple requests defined in a single file must be separated from each other with a request separator symbol. A separator may contain comments.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("https:")]),t._v("//httpbin.org/post\n### separator\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("https:")]),t._v("//httpbin.org/post\n")])])]),s("p",[t._v("Alternatively, the request can also be specified in "),s("a",{attrs:{href:"https://tools.ietf.org/html/rfc7230#section-3.1.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 7230"),s("OutboundLink")],1),t._v(" Request line format, which also triggers a separation.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://httpbin.org/post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n")])])]),s("p",[t._v("Using "),s("code",[t._v("###")]),t._v(" Regions without a request can be defined. These global regions are executed and interpreted for all requests within the file. This way "),s("RouterLink",{attrs:{to:"/guide/metaData.html"}},[t._v("meta data")]),t._v(", "),s("RouterLink",{attrs:{to:"/guide/variables.html"}},[t._v("variables")]),t._v(" and "),s("RouterLink",{attrs:{to:"/guide/scripting.html"}},[t._v("scripts")]),t._v(" can be set for each request.")],1),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("@host=https://httpbin.org\n###\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token request-line"}},[s("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n")])])]),s("h2",{attrs:{id:"grpc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#grpc"}},[t._v("#")]),t._v(" gRPC")]),t._v(" "),s("p",[t._v("It is also possible to send gRPC requests. The same request line format is used as for Http requests, but "),s("code",[t._v("GRPC")]),t._v(" must be specified as the request method.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('proto < ./hello.proto\n\nGRPC grpcb.in:9000/hello.HelloService/sayHello\n{\n  "greeting": "world"\n}')])])]),s("h3",{attrs:{id:"protobuf-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#protobuf-loader"}},[t._v("#")]),t._v(" Protobuf Loader")]),t._v(" "),s("p",[t._v("To use the gRPC call, the proto file associated with the call must first be loaded. This is loaded using "),s("a",{attrs:{href:"https://www.npmjs.com/package/@grpc/proto-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("@grpc/proto-loader"),s("OutboundLink")],1),t._v(". This can be configured using options in the header format")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("proto < ./hello.proto\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("keepCase:")]),t._v(" true\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("longs:")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("enums:")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("defaults:")]),t._v(" true\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("oneofs:")]),t._v(" true\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("includeDirs:")]),t._v(' ["../request"]\n\nGRPC grpcb.in:9000/hello.HelloService/sayHello\n{\n  "greeting": "world"\n}')])])]),s("p",[t._v("The import of the proto file can also be done globally")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('proto < ./hello.proto\n\n###\nGRPC grpcb.in:9000/hello.HelloService/sayHello\n{\n  "greeting": "world"\n}\n\n\nGRPC grpcb.in:9000/hello.HelloService/sayHello\n{\n  "greeting": "john"\n}')])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("You can use Variable Substitution in file import.")])]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("@assetsDir=./\n\nproto < {{assetsDir}}hello.proto\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("keepCase:")]),t._v(" true\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("longs:")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("enums:")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("defaults:")]),t._v(" true\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("oneofs:")]),t._v(" true\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("includeDirs:")]),t._v(' ["../request"]\n\nGRPC grpcb.in:9000/hello.HelloService/sayHello\n{\n  "greeting": "world"\n}')])])]),s("h3",{attrs:{id:"unary-rpc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unary-rpc"}},[t._v("#")]),t._v(" Unary RPC")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://grpc.io/docs/what-is-grpc/core-concepts/#unary-rpc",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unary RPC"),s("OutboundLink")],1),t._v(" behaves identically to Http requests. The url need to be in the following format")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("GRPC {{server}}/{{service}}/{{method}}\n")])])]),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('proto < ./hello.proto\n\nGRPC grpcb.in:9000/hello.HelloService/sayHello\n{\n  "greeting": "world"\n}')])])]),s("p",[t._v("Using "),s("RouterLink",{attrs:{to:"/guide/request.html#headers"}},[t._v("header notation")]),t._v(" it is also possible to send meta data.")],1),t._v(" "),s("p",[t._v("Header "),s("code",[t._v("ChannelCredentials")]),t._v(" or "),s("code",[t._v("Authorization")]),t._v("are special and defines the "),s("a",{attrs:{href:"https://grpc.io/docs/guides/auth/#nodejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("authentication"),s("OutboundLink")],1),t._v(" used by gRPC. If no such header is specified, "),s("code",[t._v("grpc.credentials.createInsecure()")]),t._v(" is used automatically")]),t._v(" "),s("h3",{attrs:{id:"server-streaming-rpc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#server-streaming-rpc"}},[t._v("#")]),t._v(" Server Streaming RPC")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://grpc.io/docs/what-is-grpc/core-concepts/#server-streaming-rpc",target:"_blank",rel:"noopener noreferrer"}},[t._v("Server Streaming RPC"),s("OutboundLink")],1),t._v(" is similar to a unary RPC, except that the server returns a stream of messages in response to a client’s request.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('proto < ./hello.proto\n\nGRPC grpcb.in:9000/hello.HelloService/LotsOfReplies\n{\n  "greeting": "world"\n}')])])]),s("p",[t._v("All responses are output as an intermediate result and summarized at the end as one overall response. If the intermediate results are not needed, they can be deactivated using "),s("code",[t._v("# @noStreamingLog")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('proto < ./hello.proto\n\n# @noStreamingLog\n\nGRPC grpcb.in:9000/hello.HelloService/LotsOfReplies\n{\n  "greeting": "world"\n}')])])]),s("h3",{attrs:{id:"client-streaming-rpc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#client-streaming-rpc"}},[t._v("#")]),t._v(" Client Streaming RPC")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://grpc.io/docs/what-is-grpc/core-concepts/#client-streaming-rpc",target:"_blank",rel:"noopener noreferrer"}},[t._v("Client Streaming RPC"),s("OutboundLink")],1),t._v(" is similar to a unary RPC, except that the client sends a stream of messages to the server instead of a single message. To enable this, a custom script can be used that registers for the @streaming hook. This script must export a Promise at the end of which the client stream is terminated.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("proto < ./hello.proto\nGRPC grpcb.in:9000/hello.HelloService/lotsOfGreetings\n{\n  \"greeting\": \"world.\"\n}\n\n{{@streaming\n\n  async function writeStream(){\n    await sleep(1000);\n    grpcStream.write({\n      greeting: 'How are you?',\n    });\n    await sleep(1000);\n    grpcStream.write({\n      greeting: 'I can stream.',\n    });\n  }\n  exports.waitPromise = writeStream();\n}}")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("To control the wait time more easily, a method "),s("code",[t._v("sleep")]),t._v(" is provided that waits the number of milliseconds.")])]),t._v(" "),s("h3",{attrs:{id:"bidirectional-streaming-rpc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bidirectional-streaming-rpc"}},[t._v("#")]),t._v(" Bidirectional Streaming RPC")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://grpc.io/docs/what-is-grpc/core-concepts/#bidirectional-streaming-rpc",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bidirectional Streaming RPC"),s("OutboundLink")],1),t._v(" is a combination of client streaming and server streaming.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("proto < ./hello.proto\nGRPC grpcb.in:9000/hello.HelloService/BidiHello\n{\n  \"greeting\": \"world\"\n}\n\n{{@streaming\n\n  async function writeStream(){\n    await sleep(1000);\n    grpcStream.write({\n      greeting: ', how are you?',\n    });\n    await sleep(1000);\n    grpcStream.write({\n      greeting: ', I can stream.',\n    });\n  }\n  exports.waitPromise = writeStream();\n}}")])])]),s("h2",{attrs:{id:"server-sent-events-eventsource"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#server-sent-events-eventsource"}},[t._v("#")]),t._v(" Server-Sent Events / EventSource")]),t._v(" "),s("p",[t._v("By means of the method "),s("code",[t._v("SSE")]),t._v(" an "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/EventSource",target:"_blank",rel:"noopener noreferrer"}},[t._v("EventSource"),s("OutboundLink")],1),t._v(" instance can be created. This opens a persistent connection to an HTTP server, which sends events in text/event-stream format. By means of the header "),s("code",[t._v("event")]),t._v(" the list of events to be output is specified")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("SSE https://express-eventsource.herokuapp.com/events\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Event:")]),t._v(" data\n\n{{@streaming\n  async function writeStream(){\n    await sleep(10000);\n  }\n  exports.waitPromise = writeStream();\n}}")])])]),s("p",[t._v("The events of the server can be waited for by means of "),s("RouterLink",{attrs:{to:"/guide/scripting.html#events"}},[t._v("streaming event")]),t._v(". As soon as this hook has been successfully processed, the connection is terminated.")],1),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")])]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("SSE https://express-eventsource.herokuapp.com/events\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Event:")]),t._v(" data\n\n{{@streaming\n  async function writeStream(){\n    await sleep(10000);\n  }\n  exports.waitPromise = writeStream();\n}}")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Meta Data "),s("code",[t._v("keepStreaming")]),t._v(" can be used to respond to events until manually aborted.")])]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("# @keepStreaming\nSSE https://express-eventsource.herokuapp.com/events\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Event:")]),t._v(" data")])])]),s("h2",{attrs:{id:"websocket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websocket"}},[t._v("#")]),t._v(" WebSocket")]),t._v(" "),s("p",[t._v("By means of the method "),s("code",[t._v("WS")]),t._v(" a "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebSocket connection"),s("OutboundLink")],1),t._v(" to a server can be opened. If a body is included in the request, it is sent immediately after the connection is established.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('WS wss://demo.piesocket.com/v3/channel_1?api_key=oCdCMcMPQpbvNjUIzqtvF1d2X2okWpDQj4AwARJuAgtjhzKxVEjQU6IdCjwm&notify_self\n{"foo": "bar"}\n\n{{@streaming\n  async function writeStream(){\n    await sleep(10000);\n    websocketClient.send(\'Hello World\');\n    await sleep(1000);\n  }\n  exports.waitPromise = writeStream();\n}}')])])]),s("p",[t._v("The events of the server can be waited for by means of "),s("RouterLink",{attrs:{to:"/guide/scripting.html#events"}},[t._v("streaming event")]),t._v(". As soon as this hook has been successfully processed, the connection is terminated. Within the "),s("code",[t._v("streaming")]),t._v(" block it is possible to send further message using "),s("a",{attrs:{href:"https://www.npmjs.com/package/ws#sending-and-receiving-text-data",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("websocketClient")]),s("OutboundLink")],1),t._v(".")],1),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('WS wss://demo.piesocket.com/v3/channel_1?api_key=oCdCMcMPQpbvNjUIzqtvF1d2X2okWpDQj4AwARJuAgtjhzKxVEjQU6IdCjwm&notify_self\n{"foo": "bar"}\n\n{{@streaming\n  async function writeStream(){\n    await sleep(10000);\n    websocketClient.send(\'Hello World\');\n    await sleep(1000);\n  }\n  exports.waitPromise = writeStream();\n}}')])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Meta Data "),s("code",[t._v("keepStreaming")]),t._v(" can be used to respond to events until manually aborted.")])]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("# @keepStreaming\nWS wss://demo.piesocket.com/v3/channel_1?api_key=oCdCMcMPQpbvNjUIzqtvF1d2X2okWpDQj4AwARJuAgtjhzKxVEjQU6IdCjwm&notify_self\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("All received messages are output as an intermediate result and summarized at the end as one overall response. If the intermediate results are not needed, they can be deactivated using "),s("code",[t._v("# @noStreamingLog")]),t._v(".")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("If special options are needed for initialization, they can be configured in a NodeJS script using "),s("a",{attrs:{href:"https://github.com/AnWeber/httpyac/blob/main/src/models/httpRequest.ts#L26",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("request.options")]),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"mqtt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mqtt"}},[t._v("#")]),t._v(" MQTT")]),t._v(" "),s("p",[t._v("By means of the method "),s("code",[t._v("MQTT")]),t._v(" a MQTT Client can be created. "),s("a",{attrs:{href:"https://github.com/mqttjs/MQTT.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("MQTT.js"),s("OutboundLink")],1),t._v(" opens a TCP or WebSocket Connection to a MQTT Broker. The header "),s("code",[t._v("Topic")]),t._v(" specifies the topic to be registered (multiple specification allowed)")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("# @keepStreaming\nMQTT tcp://broker.hivemq.com\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Topic:")]),t._v(" testtopic/1\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Topic:")]),t._v(" testtopic/2\n")])])]),s("p",[t._v("If a body is specified, it will be published immediately after connecting.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("MQTT tcp://broker.hivemq.com\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Topic:")]),t._v(" testtopic/1\n\nHello, World\n\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("If the topic used for publishing is different from the topic used for replying, the headers "),s("code",[t._v("subscribe")]),t._v(" and "),s("code",[t._v("publish")]),t._v(" can be used instead.")])]),t._v(" "),s("p",[t._v("The messages of the server can be waited for by means of "),s("RouterLink",{attrs:{to:"/guide/scripting.html#events"}},[t._v("streaming event")]),t._v(". As soon as this hook has been successfully processed, the connection is terminated. Within the "),s("code",[t._v("streaming")]),t._v(" block it is possible to publish further message using "),s("a",{attrs:{href:"https://github.com/mqttjs/MQTT.js#publish",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("mqttClient")]),s("OutboundLink")],1),t._v(".")],1),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("MQTT tcp://broker.hivemq.com\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Topic:")]),t._v(" testtopic/1\n\n{{@streaming\n  async function writeStream(){\n    await sleep(1000);\n    mqttClient.publish('testtopic/1', 'Hello World');\n    await sleep(1000);\n  }\n  exports.waitPromise = writeStream();\n}}")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Meta Data "),s("code",[t._v("keepStreaming")]),t._v(" can be used to respond to events until manually aborted.")])]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("# @keepStreaming\nMQTT tcp://broker.hivemq.com\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Topic:")]),t._v(" testtopic/1\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Topic:")]),t._v(" testtopic/2\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("All received messages are output as an intermediate result and summarized at the end as one overall response. If the intermediate results are not needed, they can be deactivated using "),s("code",[t._v("# @noStreamingLog")]),t._v(".")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/mqttjs/MQTT.js#qos",target:"_blank",rel:"noopener noreferrer"}},[t._v("QoS"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://github.com/mqttjs/MQTT.js#mqttclientstreambuilder-options",target:"_blank",rel:"noopener noreferrer"}},[t._v("retain, username, password, keepAlive (10seconds default) and clean"),s("OutboundLink")],1),t._v(" can be configured using header notation.")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("# @keepStreaming\nMQTT tcp://broker.hivemq.com\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Topic:")]),t._v(" testtopic/1\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Qos:")]),t._v(" 1\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("username:")]),t._v(" foo\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("password:")]),t._v(" bar\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("If more options are needed for the initialization, they could be configured in a NodeJS script using "),s("a",{attrs:{href:"https://github.com/AnWeber/httpyac/blob/main/src/models/httpRequest.ts#L36",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("request.options")]),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("p",[t._v("As long as the connection of the MQTT instance to the MessageQueue exists, messages can also be published from other NodeJS blocks.\n<<< ./examples/request/mqttScript.http{8}")])])}),[],!1,null,null,null);e.default=r.exports}}]);